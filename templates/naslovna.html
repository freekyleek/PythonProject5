<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title or 'Naslovna' }}</title>
  <style>
    :root{
      --bg-start:#0B2B9E;
      --bg-end:#CFC4FF;
      --card:#111827;
      --card2:#0b1223;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#22d3ee;
      --accent2:#38bdf8;
      --ring: rgba(34,211,238,0.45);
      --danger:#ef4444;
      --danger2:#dc2626;
      --danger-ring: rgba(239,68,68,0.4);
      --gold:#FFD700;
}
    *{box-sizing:border-box}
    body{
      margin:0;
      color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial,'Apple Color Emoji','Segoe UI Emoji';
      background: linear-gradient(120deg, var(--bg-start), var(--bg-end), var(--bg-start));
      background-size: 200% 200%;
      animation: flow 18s ease-in-out infinite;
    }
    @keyframes flow{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    a{color:inherit;text-decoration:none}
    header{max-width:1200px;margin:24px auto 8px;padding:0 20px;display:flex;flex-direction:column;align-items:center;gap:8px}
    .logo{height:300px;width:auto;image-rendering:auto;display:block;filter:drop-shadow(0 6px 18px rgba(0,0,0,.35));animation:bounce 2s infinite}
    @keyframes bounce{
      0%,20%,50%,80%,100%{transform:translateY(0)}
      40%{transform:translateY(-25px)}
      60%{transform:translateY(-12px)}
    }
    .welcome{font-size:22px;color:var(--gold);margin-top:4px;display:inline-flex;align-items:center;gap:8px;animation:pulseSoft 3s ease-in-out infinite}
    main{max-width:1200px;margin:0 auto;padding:16px 20px 40px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}
    .card{position:relative;background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid #1f2937;padding:18px;border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
    .card:hover{transform:translateY(-3px);box-shadow:0 24px 70px rgba(0,0,0,.45), 0 0 0 6px var(--ring);border-color:rgba(56,189,248,.35)}
    .card .ico{width:28px;height:28px;margin-bottom:12px;opacity:.95}
    .card h3{margin:0 0 6px;font-size:18px}
    .card p{margin:0;color:var(--muted);font-size:13px;min-height:32px}
    .tag{position:absolute;top:10px;right:12px;font-size:11px;color:#0ea5e9;background:rgba(14,165,233,.12);border:1px solid rgba(56,189,248,.35);padding:2px 8px;border-radius:999px}
    .hide{display:none !important}
    .card.danger{background:linear-gradient(180deg, #3a0d0d, #1a0b0b);border-color:#7f1d1d}
    .card.danger:hover{box-shadow:0 24px 70px rgba(127, 29, 29, .55), 0 0 0 6px var(--danger-ring);border-color:#ef4444}
    .card.danger .tag{color:#fecaca;background:rgba(239,68,68,.12);border-color:rgba(239,68,68,.35)}
    @media (hover:none){.card:hover{transform:none;box-shadow:0 20px 60px rgba(0,0,0,.35)}}
  
    @keyframes pulseSoft{
      0%,100%{filter:none; text-shadow:0 0 0 rgba(255,215,0,0)}
      50%{text-shadow:0 0 10px rgba(255,215,0,.18)}
    }
    .welcome .name{font-weight:700}
    .welcome .wave{display:inline-block; font-size:22px; transform-origin:70% 70%; animation:wave 2.5s ease-in-out infinite}
    @keyframes wave{
      0%,100%{transform:rotate(0deg)}
      10%{transform:rotate(14deg)}
      20%{transform:rotate(-8deg)}
      30%{transform:rotate(12deg)}
      40%{transform:rotate(-4deg)}
      50%{transform:rotate(8deg)}
    }
    @media (prefers-reduced-motion: reduce){
      .welcome{animation:none}
      .welcome .wave{animation:none}
    }

  </style>
</head>
<body>
  <header>
    <img class="logo" src="{{ url_for('static', filename='banners/billylogo.png') }}" alt="Logo">
    <div class="welcome">Dobrodo≈°ao <span class="name">{{ username or 'tehniƒçar' }}</span> <span class="wave" aria-hidden="true">üëã</span></div>
  </header>
  <main>
    <section class="grid">
      {% if not has_role('serviser','voditelj','tehniƒçar','tehnicar') %}
<a href="/pocetna" class="card">
        <div class="ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M5 12v7M10 9v10M15 5v14M20 13v6" stroke="url(#g12)" stroke-width="1.6" stroke-linecap="round"/>
            <defs><linearGradient id="g12" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs>
          </svg>
        </div>
        <h3>Analitika</h3>
        <p>Grafiƒçki pregled kljuƒçnih metrika.</p>
      </a>
      {% endif %}
      <a href="{{ url_for('operater_profil', username=(username or (current_user.username if current_user else ''))) }}" class="card">
  <div class="ico" aria-hidden="true">
    <svg viewBox="0 0 24 24" fill="none">
      <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Z" stroke="url(#gp)" stroke-width="1.5"/>
      <path d="M20 21v-1a6 6 0 0 0-6-6h-4a6 6 0 0 0-6 6v1" stroke="url(#gp)" stroke-width="1.5"/>
      <defs><linearGradient id="gp" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs>
    </svg>
  </div>
  <h3>Moj profil</h3>
  <p>Pogledaj i ureƒëuj svoj profil, ureƒëaje, SIM i naloge.</p>
</a>
      {% if not has_role('voditelj','tehniƒçar','tehnicar') %}{% if not has_role('prodaja') %}

      {% endif %}{% if not has_role('prodaja') %}
<a href="{{ url_for('nalozi') }}" class="card">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><path d="M4 5h16M4 12h16M4 19h10" stroke="url(#g3)" stroke-width="1.5" stroke-linecap="round"/><defs><linearGradient id="g3" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>Nalozi</h3>
        <p>Otvoreni, servisni i zakljuƒçeni nalozi.</p>
      </a>{% endif %}
      {% endif %}
            {% if not has_role('tehniƒçar','tehnicar') %}
<a href="{{ url_for('uredjaji') }}" class="card">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><path d="M4 6h16v12H4zM9 20h6" stroke="url(#g5)" stroke-width="1.5"/><defs><linearGradient id="g5" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>Ureƒëaji</h3>
        <p>Evidencija i detalji ureƒëaja.</p>
      </a>
      {% endif %}
            {% if not has_role('serviser','tehniƒçar','tehnicar') %}
<a href="{{ url_for('sim') }}" class="card">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><path d="M7 3h10l4 4v14H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4zM11 11h6M11 15h4" stroke="url(#g7)" stroke-width="1.5"/><defs><linearGradient id="g7" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>SIM</h3>
        <p>SIM kartice, statusi i zadu≈æenja.</p>
      </a>
      {% endif %}
      <a href="{{ url_for('operateri') }}" class="card {% if not has_role('superadmin','admin') %}hide{% endif %}">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><path d="M12 7a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm8 13v-1a6 6 0 0 0-6-6H10a6 6 0 0 0-6 6v1" stroke="url(#g8)" stroke-width="1.5"/><defs><linearGradient id="g8" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>Operateri</h3>
        <p>Upravljanje korisnicima i ulogama.</p>
        <span class="tag">Admin</span>
      </a>
      <a href="{{ url_for('datoteke') }}" class="card">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><path d="M4 4h8l4 4h4v12H4z" stroke="url(#g9)" stroke-width="1.5"/><defs><linearGradient id="g9" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>Datoteke</h3>
        <p>Pregled dokumenata i privitaka.</p>
      </a>
      <a href="{{ url_for('info') }}" class="card">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="url(#g10)" stroke-width="1.5"/><path d="M12 8v.01M11 11h2v5h-2z" stroke="url(#g10)" stroke-width="1.5" stroke-linecap="round"/><defs><linearGradient id="g10" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#38bdf8"/></linearGradient></defs></svg></div>
        <h3>Info</h3>
        <p>Informacije o sustavu i pomoƒá.</p>
      </a>
      <a href="{{ url_for('logout') }}" class="card danger">
        <div class="ico"><svg viewBox="0 0 24 24" fill="none">
          <defs><linearGradient id="g11r" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#ef4444"/><stop offset="1" stop-color="#dc2626"/></linearGradient></defs>
          <path d="M15 12H3m6-6-6 6 6 6M21 3v18" stroke="url(#g11r)" stroke-width="1.5" stroke-linecap="round"/>
        </svg></div>
        <h3>Odjava</h3>
        <p>Zavr≈°i radnu sesiju.</p>
        <span class="tag">Sigurnost</span>
      </a>
    </section>
  </main>
</body>
</html>
